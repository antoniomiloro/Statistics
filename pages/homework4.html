<!DOCTYPE html>
<html>
    <head>
        <title>Statistics</title>
        <meta http-equiv='cache-control' content='no-cache'> 
        <meta http-equiv='expires' content='0'> 
        <meta http-equiv='pragma' content='no-cache'>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    <body>
        <h5>Since most of the programs you created about the distributions were wrong, we will do a "revision", <br>
            due to the importance of the distribution concept. <br>
            Revise and optimize you previous programs to compute the joint distribution of any number of 2,3, ...k, <br>
            continuous quantitative variables where, for each variable, the user can specify the number of subdivisions <br>
            ("class intervals") of a range containing the observed values.</h5> <br>
            
            <h4>JavaScript program</h4>
            <pre>
                <code>
                        const fs = require('fs');
                        function calculateFrequencies(text) {
                        const frequencies = {};
    
                        const lines = text.split('\n');
    
                        for (const line of lines) {
                            const item = line.toLowerCase().trim();
    
                            if (frequencies[item]) {
                            frequencies[item]++;
                            } else {
                            frequencies[item] = 1;
                            }
                        }
    
                        return frequencies;
                        }
    
                        function printFrequencies(frequencies, title) {
                        console.log(`\n${title}\n`);
                        const total = Object.values(frequencies).reduce((acc, value) => acc + value, 0);
    
                        for (const item in frequencies) {
                            const frequency = frequencies[item];
                            const relativeFrequency = frequency / total;
                            const percentage = (relativeFrequency * 100).toFixed(2);
    
                            console.log(`${item}: ${frequency} (Relative: ${relativeFrequency.toFixed(2)}, Percentage: ${percentage}%)`);
                        }
                        }
    
                        function calculateJointDistribution(dataArrays) {
                        const jointDistribution = {};
    
                        const numVariables = dataArrays.length;
    
                        for (let i = 0; i < dataArrays[0].length; i++) {
                            const values = dataArrays.map((dataArray) =>
                            dataArray[i].toLowerCase().trim()
                            );
    
                            const key = values.join('|');
    
                            if (!jointDistribution[key]) {
                            jointDistribution[key] = 1;
                            } else {
                            jointDistribution[key]++;
                            }
                        }
    
                        return jointDistribution;
                        }
    
                        function printJointDistribution(jointDistribution, title) {
                        console.log(`\n${title}\n`);
                        for (const key in jointDistribution) {
                            const frequency = jointDistribution[key];
                            const values = key.split('|');
                            const total = Object.values(jointDistribution).reduce(
                            (acc, value) => acc + value,
                            0
                            );
                            const relativeFrequency = frequency / total;
                            const percentage = (relativeFrequency * 100).toFixed(2);
    
                            console.log(
                            `Data: ${values.join(', ')} \t Frequency: ${frequency}, Relative Frequency: ${relativeFrequency.toFixed(2)}%, Percentage: ${percentage}%`
                            );
                        }
                        }
    
                        fs.readFile('degrees.txt', 'utf8', (err1, degreesData) => {
                        if (err1) {
                            console.error('Errore nella lettura del file "degrees.txt"', err1);
                            return;
                        }
    
                        fs.readFile('ambitiousness.txt', 'utf8', (err2, ambitiousnessData) => {
                            if (err2) {
                            console.error('Errore nella lettura del file "ambitiousness.txt"', err2);
                            return;
                            }
    
                            fs.readFile('heights.txt', 'utf8', (err3, heightsData) => {
                            if (err3) {
                                console.error('Errore nella lettura del file "heights.txt"', err3);
                                return;
                            }
    
                            const heightsFrequencies = calculateFrequencies(heightsData);
                            printFrequencies(heightsFrequencies, '---Height Frequencies---');
    
                            const degreesFrequencies = calculateFrequencies(degreesData);
                            printFrequencies(degreesFrequencies, '---Background Degree Frequencies---');
    
                            const valuesFrequencies = calculateFrequencies(ambitiousnessData);
                            printFrequencies(valuesFrequencies, '---Ambitious Values Frequencies---');
    
                            const jointDistribution = calculateJointDistribution([
                                ambitiousnessData.split('\n'),
                                heightsData.split('\n')
                            ]);
                            printJointDistribution(jointDistribution, '---Joint Distribution of Ambitiousness and Height (Data: A | H)---');
                            });
                        });
                        });
                </code>
            </pre>
    
        <h4>Output:</h4>
            <pre>
                <code>
                        ---Height Frequencies---
    
                        180: 1 (Relative: 0.02, Percentage: 1.75%)
                        : 40 (Relative: 0.70, Percentage: 70.18%)
                        1.73: 2 (Relative: 0.04, Percentage: 3.51%)
                        1.76: 2 (Relative: 0.04, Percentage: 3.51%)
                        1.8: 1 (Relative: 0.02, Percentage: 1.75%)
                        1.72: 1 (Relative: 0.02, Percentage: 1.75%)
                        1.68: 1 (Relative: 0.02, Percentage: 1.75%)
                        1.81: 1 (Relative: 0.02, Percentage: 1.75%)
                        1.86: 1 (Relative: 0.02, Percentage: 1.75%)
                        1.71: 1 (Relative: 0.02, Percentage: 1.75%)
                        1.65: 1 (Relative: 0.02, Percentage: 1.75%)
                        1.9: 1 (Relative: 0.02, Percentage: 1.75%)
                        1.7: 1 (Relative: 0.02, Percentage: 1.75%)
                        1.78: 1 (Relative: 0.02, Percentage: 1.75%)
                        1.91: 1 (Relative: 0.02, Percentage: 1.75%)
                        1.82: 1 (Relative: 0.02, Percentage: 1.75%)
    
                        ---Background Degree Frequencies---
    
                        engineering in computer science: 2 (Relative: 0.04, Percentage: 3.77%)
                        computer and system engineering: 1 (Relative: 0.02, Percentage: 1.89%)
                        computer science: 29 (Relative: 0.55, Percentage: 54.72%)
                        computer science and engineering: 1 (Relative: 0.02, Percentage: 1.89%)
                        computer engineering: 11 (Relative: 0.21, Percentage: 20.75%)
                        software and information engineering: 1 (Relative: 0.02, Percentage: 1.89%)
                        information engineering, computer science and statistics: 1 (Relative: 0.02, Percentage: 1.89%)
                        computer sciwence: 1 (Relative: 0.02, Percentage: 1.89%)
                        international relations: 1 (Relative: 0.02, Percentage: 1.89%)
                        cybersecurity: 3 (Relative: 0.06, Percentage: 5.66%)
                        security of information technologies: 1 (Relative: 0.02, Percentage: 1.89%)
                        conputer engineering: 1 (Relative: 0.02, Percentage: 1.89%)
    
                        ---Ambitious Values Frequencies---
    
                        3: 5 (Relative: 0.09, Percentage: 9.43%)
                        4: 19 (Relative: 0.36, Percentage: 35.85%)
                        5: 28 (Relative: 0.53, Percentage: 52.83%)
                        6: 1 (Relative: 0.02, Percentage: 1.89%)
    
                        ---Joint Distribution of Ambitiousness and Height (Data: A | H)---
    
                        Data: 4,  	 Frequency: 13, Relative Frequency: 0.25%, Percentage: 24.53%
                        Data: 5,  	 Frequency: 22, Relative Frequency: 0.42%, Percentage: 41.51%
                        Data: 5, 1.73 	 Frequency: 2, Relative Frequency: 0.04%, Percentage: 3.77%
                        Data: 5, 1.76 	 Frequency: 2, Relative Frequency: 0.04%, Percentage: 3.77%
                        Data: 4, 1.8 	 Frequency: 1, Relative Frequency: 0.02%, Percentage: 1.89%
                        Data: 5, 1.72 	 Frequency: 1, Relative Frequency: 0.02%, Percentage: 1.89%
                        Data: 4, 1.68 	 Frequency: 1, Relative Frequency: 0.02%, Percentage: 1.89%
                        Data: 4, 1.81 	 Frequency: 1, Relative Frequency: 0.02%, Percentage: 1.89%
                        Data: 6,  	 Frequency: 1, Relative Frequency: 0.02%, Percentage: 1.89%
                        Data: 5, 1.86 	 Frequency: 1, Relative Frequency: 0.02%, Percentage: 1.89%
                        Data: 4, 1.71 	 Frequency: 1, Relative Frequency: 0.02%, Percentage: 1.89%
                        Data: 3,  	 Frequency: 4, Relative Frequency: 0.08%, Percentage: 7.55%
                        Data: 4, 180 	 Frequency: 1, Relative Frequency: 0.02%, Percentage: 1.89%
                        Data: 3, 1.65 	 Frequency: 1, Relative Frequency: 0.02%, Percentage: 1.89%
                        Data: 4, 1.9 	 Frequency: 1, Relative Frequency: 0.02%, Percentage: 1.89%
                </code>
            </pre>

        <h4>C# program</h4>
        <pre>
            <code>
                using System;
                using System.Collections.Generic;
                using System.IO;
                using System.Linq;

                class Program
                {
                    static void Main()
                    {
                        string projectDirectory = "YOUR PROJECT DIRECTORY";
                        
                        string degreesPath = Path.Combine(projectDirectory, "degrees.txt");
                        string ambitiousnessPath = Path.Combine(projectDirectory, "ambitiousness.txt");
                        string heightsPath = Path.Combine(projectDirectory, "heights.txt");

                        string degreesData = File.ReadAllText(degreesPath);
                        string ambitiousnessData = File.ReadAllText(ambitiousnessPath);
                        string heightsData = File.ReadAllText(heightsPath);

                        Dictionary heightsFrequencies = CalculateFrequencies(heightsData);
                        PrintFrequencies(heightsFrequencies, "---Height Frequencies---");

                        Dictionary degreesFrequencies = CalculateFrequencies(degreesData);
                        PrintFrequencies(degreesFrequencies, "---Background Degree Frequencies---");

                        Dictionary ambitiousnessFrequencies = CalculateFrequencies(ambitiousnessData);
                        PrintFrequencies(ambitiousnessFrequencies, "---Ambitious Values Frequencies---");

                        List dataArrays = new List
                        {
                            ambitiousnessData.Split('\n'),
                            heightsData.Split('\n')
                        };

                        Dictionary jointDistribution = CalculateJointDistribution(dataArrays);
                        PrintJointDistribution(jointDistribution, "---Joint Distribution of Ambitiousness and Height (Data: A | H)---");

                        dataArrays.Add(degreesData.Split('\n'));

                        Dictionary jointDistributions = CalculateJointDistribution(dataArrays);
                        PrintJointDistribution(jointDistributions, "---Joint Distribution OF 3 VARIABLES---");
                    }

                    static Dictionary CalculateFrequencies(string text)
                    {
                        var frequencies = new Dictionary();
                        var lines = text.Split('\n');

                        foreach (var line in lines)
                        {
                            var item = line.ToLower().Trim();

                            if (frequencies.ContainsKey(item))
                            {
                                frequencies[item]++;
                            }
                            else
                            {
                                frequencies[item] = 1;
                            }
                        }

                        return frequencies;
                    }

                    static void PrintFrequencies(Dictionary frequencies, string title)
                    {
                        Console.WriteLine($"\n{title}\n");
                        int total = frequencies.Values.Sum();

                        foreach (var item in frequencies)
                        {
                            double relativeFrequency = (double)item.Value / total;
                            double percentage = relativeFrequency * 100;
                            Console.WriteLine($"{item.Key}: {item.Value} (Relative: {relativeFrequency:F2}, Percentage: {percentage:F2}%)");
                        }
                    }

                    static Dictionary CalculateJointDistribution(List dataArrays)
                    {
                        var jointDistribution = new Dictionary();
                        int numVariables = dataArrays.Count;

                        for (int i = 0; i < dataArrays[0].Length; i++)
                        {
                            var values = dataArrays.Select(dataArray => dataArray[i].ToLower().Trim()).ToList();
                            var key = string.Join("|", values);

                            if (jointDistribution.ContainsKey(key))
                            {
                                jointDistribution[key]++;
                            }
                            else
                            {
                                jointDistribution[key] = 1;
                            }
                        }

                        return jointDistribution;
                    }

                    static void PrintJointDistribution(Dictionary jointDistribution, string title)
                    {
                        Console.WriteLine($"\n{title}\n");
                        int total = jointDistribution.Values.Sum();

                        foreach (var item in jointDistribution)
                        {
                            var values = item.Key.Split('|');
                            double relativeFrequency = (double)item.Value / total;
                            double percentage = relativeFrequency * 100;
                            Console.WriteLine($"Data: {string.Join(", ", values)} \t Frequency: {item.Value}, Relative Frequency: {relativeFrequency:F2}, Percentage: {percentage:F2}%");
                        }
                    }
                }

            </code>
        </pre>

        <h4>Output:</h4>
        <pre>
            <code>
                ---Height Frequencies---

                : 40 (Relative: 0,70, Percentage: 70,18%)
                1.73: 2 (Relative: 0,04, Percentage: 3,51%)
                1.76: 2 (Relative: 0,04, Percentage: 3,51%)
                1.8: 1 (Relative: 0,02, Percentage: 1,75%)
                1.72: 1 (Relative: 0,02, Percentage: 1,75%)
                1.68: 1 (Relative: 0,02, Percentage: 1,75%)
                1.81: 1 (Relative: 0,02, Percentage: 1,75%)
                1.86: 1 (Relative: 0,02, Percentage: 1,75%)
                1.71: 1 (Relative: 0,02, Percentage: 1,75%)
                180: 1 (Relative: 0,02, Percentage: 1,75%)
                1.65: 1 (Relative: 0,02, Percentage: 1,75%)
                1.9: 1 (Relative: 0,02, Percentage: 1,75%)
                1.7: 1 (Relative: 0,02, Percentage: 1,75%)
                1.78: 1 (Relative: 0,02, Percentage: 1,75%)
                1.91: 1 (Relative: 0,02, Percentage: 1,75%)
                1.82: 1 (Relative: 0,02, Percentage: 1,75%)

                ---Background Degree Frequencies---

                engineering in computer science: 2 (Relative: 0,04, Percentage: 3,77%)
                computer and system engineering: 1 (Relative: 0,02, Percentage: 1,89%)
                computer science: 29 (Relative: 0,55, Percentage: 54,72%)
                computer science and engineering: 1 (Relative: 0,02, Percentage: 1,89%)
                computer engineering: 11 (Relative: 0,21, Percentage: 20,75%)
                software and information engineering: 1 (Relative: 0,02, Percentage: 1,89%)
                information engineering, computer science and statistics: 1 (Relative: 0,02, Percentage: 1,89%)
                computer sciwence: 1 (Relative: 0,02, Percentage: 1,89%)
                international relations: 1 (Relative: 0,02, Percentage: 1,89%)
                cybersecurity: 3 (Relative: 0,06, Percentage: 5,66%)
                security of information technologies: 1 (Relative: 0,02, Percentage: 1,89%)
                conputer engineering: 1 (Relative: 0,02, Percentage: 1,89%)

                ---Ambitious Values Frequencies---

                4: 19 (Relative: 0,36, Percentage: 35,85%)
                5: 28 (Relative: 0,53, Percentage: 52,83%)
                6: 1 (Relative: 0,02, Percentage: 1,89%)
                3: 5 (Relative: 0,09, Percentage: 9,43%)

                ---Joint Distribution of Ambitiousness and Height (Data: A | H)---

                Data: 4,         Frequency: 13, Relative Frequency: 0,25, Percentage: 24,53%
                Data: 5,         Frequency: 22, Relative Frequency: 0,42, Percentage: 41,51%
                Data: 5, 1.73    Frequency: 2, Relative Frequency: 0,04, Percentage: 3,77%
                Data: 5, 1.76    Frequency: 2, Relative Frequency: 0,04, Percentage: 3,77%
                Data: 4, 1.8     Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: 5, 1.72    Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: 4, 1.68    Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: 4, 1.81    Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: 6,         Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: 5, 1.86    Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: 4, 1.71    Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: 3,         Frequency: 4, Relative Frequency: 0,08, Percentage: 7,55%
                Data: 4, 180     Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: 3, 1.65    Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: 4, 1.9     Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%

                ---Joint Distribution OF 3 VARIABLES---

                Data: engineering in computer science, 4,        Frequency: 2, Relative Frequency: 0,04, Percentage: 3,77%
                Data: computer and system engineering, 5,        Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer science, 5, 1.73          Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer science and engineering, 5,       Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer engineering, 5, 1.76      Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: software and information engineering, 5, 1.76      Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer engineering, 5,           Frequency: 3, Relative Frequency: 0,06, Percentage: 5,66%
                Data: computer engineering, 5, 1.73      Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer science, 4, 1.8   Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer science, 4,       Frequency: 5, Relative Frequency: 0,09, Percentage: 9,43%
                Data: computer science, 5, 1.72          Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer science, 5,       Frequency: 16, Relative Frequency: 0,30, Percentage: 30,19%
                Data: computer engineering, 4, 1.68      Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer science, 4, 1.81          Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer engineering, 6,           Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer engineering, 5, 1.86      Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer engineering, 4, 1.71      Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer science, 3,       Frequency: 3, Relative Frequency: 0,06, Percentage: 5,66%
                Data: information engineering, computer science and statistics, 4,       Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer sciwence, 4, 180          Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer science, 3, 1.65          Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: international relations, 4,        Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: cybersecurity, 4,          Frequency: 2, Relative Frequency: 0,04, Percentage: 3,77%
                Data: security of information technologies, 5,           Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer engineering, 4, 1.9       Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: computer engineering, 4,           Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: conputer engineering, 4,           Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%
                Data: cybersecurity, 3,          Frequency: 1, Relative Frequency: 0,02, Percentage: 1,89%

            </code>
        </pre>
